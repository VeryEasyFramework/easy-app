import{d as C,o as u,p as b,b as l,w as a,e as p,t as v,l as h,C as m,v as V,m as w,g as y,s as F,D as T,a as f,j as G,c as _,z as A,F as S,B as M,h as B,f as k,x as E}from"./index-CQnUWCV4.js";import{_ as R}from"./ListDetailLayout.vue_vue_type_style_index_0_lang-CNrDxCF5.js";import{C as q}from"./CardWidget-BgBev2dT.js";import{b as N,f as U,a as P,_ as j}from"./index-Hw269v-C.js";import{_ as I,a as x}from"./ButtonIcon.vue_vue_type_script_setup_true_lang-CsaDcWkB.js";import{a as z}from"./Button.vue_vue_type_script_setup_true_lang-1s5_nbt9.js";import"./InputData.vue_vue_type_script_setup_true_lang-DzXQy-iL.js";const L=["name"],W={class:"title-3 text-center"},H=C({__name:"BasicForm",props:{name:{},submitText:{},cancelText:{},columns:{}},emits:["cancel","submitted"],setup(g,{emit:r}){const o=r;function t(){o("submitted")}function d(){o("cancel")}return(e,i)=>(u(),b("form",{class:"form",name:e.name,onSubmit:i[0]||(i[0]=T(s=>e.$emit("submitted"),["prevent"]))},[l(F,{class:"row shrink gap-3"},{default:a(()=>[p("div",W,v(h(N)(e.name||"","titleCase","camelCase")),1),l(m,{class:V(["gap-3",{[`col-${e.columns}`]:e.columns,row:!e.columns}])},{default:a(()=>[w(e.$slots,"default",{},()=>[i[1]||(i[1]=y(" Form "))])]),_:3},8,["class"]),l(m,{class:"col shrink horizontal-align-end gap-3"},{default:a(()=>[p("div",null,[w(e.$slots,"cancel",{},()=>[l(z,{color:"error",onClick:d},{default:a(()=>[y(v(e.cancelText||"Cancel"),1)]),_:1})])]),p("div",null,[w(e.$slots,"submit",{},()=>[l(z,{onSubmit:t,color:"success",type:"submit"},{default:a(()=>[y(v(e.submitText||"Submit"),1)]),_:1})])])]),_:3})]),_:3})],40,L))}}),J=C({__name:"ActionInputForm",props:{action:{}},emits:["cancel","submitted"],setup(g,{emit:r}){const o=g,t=f({}),d=r;function e(){if(!i())return;const s={};for(const n in t.value)t.value[n].value&&(s[n]=t.value[n].value);d("submitted",s)}function i(){if(!o.action.params)return;let s=!0;for(const n of o.action.params){if(n.required&&!t.value[n.paramName].value){t.value[n.paramName].error="This field is required",s=!1;continue}t.value[n.paramName].error=void 0}return s}return G(()=>{if(o.action.params)for(const s of o.action.params)t.value[s.paramName]={value:null,error:void 0}}),(s,n)=>(u(),_(H,{columns:s.action.params.length>3?2:1,name:s.action.actionName,onCancel:n[0]||(n[0]=c=>s.$emit("cancel")),onSubmitted:e},{default:a(()=>[(u(!0),b(S,null,A(s.action.params,(c,$)=>(u(),_(M(h(U)[c.type]),{key:c.paramName,modelValue:t.value[c.paramName].value,"onUpdate:modelValue":D=>t.value[c.paramName].value=D,error:t.value[c.paramName].error,focus:$===0,required:c.required,label:h(N)(c.paramName,"titleCase","camelCase")},null,8,["modelValue","onUpdate:modelValue","error","focus","required","label"]))),128))]),_:1},8,["columns","name"]))}}),K={class:"title-4 text-center"},O={class:"text-small text-center"},Q={class:"buttons horizontal-align-self-center"},X=C({__name:"ActionDetailView",props:{groupName:{},action:{}},setup(g){const r=f(!1),o=f(!1),t=f(null);f("");const d=g;async function e(){if(d.action.params.length>0){r.value=!0;return}await s()}async function i(n){await s(n),r.value=!1}async function s(n){o.value=!0,t.value=await B.call(d.groupName,d.action.actionName,n),o.value=!1}return(n,c)=>(u(),_(m,{class:"action-detail"},{default:a(()=>[l(m,{class:"header"},{default:a(()=>[l(m,{class:"row shrink horizontal-align-center"},{default:a(()=>[p("div",K,v(h(N)(n.action.actionName,"titleCase","camelCase")),1),p("div",O,v(n.action.description),1)]),_:1})]),_:1}),p("div",Q,[l(I,{icon:"play_arrow",color:"secondary",label:"Run Action",onClick:e})]),l(m,{class:"results"},{default:a(()=>[l(P,{value:t.value},null,8,["value"])]),_:1}),l(j,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=$=>r.value=$)},{default:a(()=>[l(J,{action:n.action,onCancel:c[0]||(c[0]=$=>r.value=!1),onSubmitted:i},null,8,["action"])]),_:1},8,["modelValue"])]),_:1}))}}),Y={class:"title-5"},Z={key:0,class:"label badge bg-accent fit-content text-white"},ee={key:1,class:"label badge bg-success-darker fit-content text-white"},ae={class:"text-small"},te=C({__name:"ApiGroupDetail",props:{group:{}},setup(g){f(!1);const r=f();function o(t){r.value=t}return(t,d)=>(u(),_(m,{class:"action-wrapper"},{default:a(()=>[l(m,{class:"row shrink overflow-visible"},{default:a(()=>[(u(!0),b(S,null,A(t.group.actions,e=>{var i;return u(),_(q,{onClick:s=>o(e),class:V(["group-action",{active:e.actionName===((i=r.value)==null?void 0:i.actionName)}]),key:e.actionName},{default:a(()=>[l(m,null,{default:a(()=>[l(m,{class:"col shrink horizontal-align-between"},{default:a(()=>[p("div",Y,v(h(N)(e.actionName,"titleCase","camelCase")),1),e.system?(u(),b("div",Z,"System ")):k("",!0),e.public?(u(),b("div",ee," Public ")):k("",!0)]),_:2},1024),p("div",ae,v(e.description),1)]),_:2},1024)]),_:2},1032,["onClick","class"])}),128))]),_:1}),l(x,{appear:"",speed:"fast"},{default:a(()=>[r.value?(u(),_(X,{"group-name":t.group.groupName,action:r.value,key:r.value.actionName},null,8,["group-name","action"])):k("",!0)]),_:1})]),_:1}))}}),se={class:"text-capitalize group-title"},ne={class:"title-3"},de=C({__name:"ApiExplorerView",setup(g){const r=f([]),o=f();function t(d){o.value=d}return E(async()=>{console.log("ApiExplorerView mounted"),r.value=await B.call("app","apiDocs")}),(d,e)=>(u(),_(R,{"max-width":"max-content","no-bg":""},{list:a(()=>[l(m,{class:"row shrink gap-3 text-center"},{default:a(()=>[e[0]||(e[0]=p("div",{class:"title-4"},"Groups",-1)),l(m,{class:"row shrink row-gap-3"},{default:a(()=>[(u(!0),b(S,null,A(r.value,i=>{var s;return u(),_(q,{onClick:n=>t(i),class:V(["group-card cursor-pointer",{active:i.groupName===((s=o.value)==null?void 0:s.groupName)}]),key:i.groupName},{default:a(()=>[p("div",se,v(i.groupName),1)]),_:2},1032,["onClick","class"])}),128))]),_:1})]),_:1})]),detail:a(()=>[l(x,{appear:"",speed:"fast"},{default:a(()=>[o.value?(u(),_(m,{class:"group-detail",key:o.value.groupName},{default:a(()=>{var i;return[p("div",ne,v(h(N)(((i=o.value)==null?void 0:i.groupName)||"","titleCase","camelCase")),1),l(te,{group:o.value},null,8,["group"])]}),_:1})):k("",!0)]),_:1})]),_:1}))}});export{de as default};
