import{d as N,o as c,p as h,b as n,w as t,e as d,t as _,l as k,C as m,v as V,m as w,g as y,s as G,G as D,a as v,j as M,c as g,z as A,F as S,h as F,f as $,x as R}from"./index-CS0ctzBO.js";import{_ as U}from"./ListDetailLayout.vue_vue_type_style_index_0_lang-DxRcJYzj.js";import{C as T}from"./CardWidget-CZble4Vm.js";import{d as C,b as E,_ as P,c as j}from"./EasyInput.vue_vue_type_script_setup_true_lang-DyZPaHgo.js";import{_ as I,a as B}from"./ButtonIcon.vue_vue_type_script_setup_true_lang-CJazxrdG.js";import{a as z}from"./Button.vue_vue_type_script_setup_true_lang-BTGI5PMB.js";import"./InputData.vue_vue_type_script_setup_true_lang-D720uB00.js";const L=["name"],O={class:"title-3 text-center"},W=N({__name:"BasicForm",props:{name:{},submitText:{},cancelText:{},columns:{}},emits:["cancel","submitted"],setup(b,{emit:o}){const i=o;function r(){i("submitted")}function s(){i("cancel")}return(e,l)=>(c(),h("form",{class:"form",name:e.name,onSubmit:l[0]||(l[0]=D(p=>e.$emit("submitted"),["prevent"]))},[n(G,{class:"row shrink gap-3"},{default:t(()=>[d("div",O,_(k(C)(e.name||"","titleCase","camelCase")),1),n(m,{class:V(["gap-3",{[`col-${e.columns}`]:e.columns,row:!e.columns}])},{default:t(()=>[w(e.$slots,"default",{},()=>[l[1]||(l[1]=y(" Form "))])]),_:3},8,["class"]),n(m,{class:"col shrink horizontal-align-end gap-3"},{default:t(()=>[d("div",null,[w(e.$slots,"cancel",{},()=>[n(z,{color:"error",onClick:s},{default:t(()=>[y(_(e.cancelText||"Cancel"),1)]),_:1})])]),d("div",null,[w(e.$slots,"submit",{},()=>[n(z,{onSubmit:r,color:"success",type:"submit"},{default:t(()=>[y(_(e.submitText||"Submit"),1)]),_:1})])])]),_:3})]),_:3})],40,L))}}),H=N({__name:"ActionInputForm",props:{action:{}},emits:["cancel","submitted"],setup(b,{emit:o}){function i(a){return{label:C(a.paramName,"titleCase","camelCase"),key:a.paramName,fieldType:a.type,required:a.required,readOnly:!1}}const r=b,s=v({}),e=o;function l(){if(!p())return;const a={};for(const u in s.value)s.value[u].value&&(a[u]=s.value[u].value);e("submitted",a)}function p(){if(!r.action.params)return;let a=!0;for(const u of r.action.params){if(u.required&&!s.value[u.paramName].value){s.value[u.paramName].error="This field is required",a=!1;continue}s.value[u.paramName].error=void 0}return a}return M(()=>{if(r.action.params)for(const a of r.action.params)s.value[a.paramName]={value:null,error:void 0}}),(a,u)=>(c(),g(W,{columns:a.action.params.length>3?2:1,name:a.action.actionName,onCancel:u[0]||(u[0]=f=>a.$emit("cancel")),onSubmitted:l},{default:t(()=>[(c(!0),h(S,null,A(a.action.params,(f,q)=>(c(),g(E,{field:i(f),modelValue:s.value[f.paramName].value,"onUpdate:modelValue":x=>s.value[f.paramName].value=x,edit:"",error:s.value[f.paramName].error,focus:q===0,key:f.paramName},null,8,["field","modelValue","onUpdate:modelValue","error","focus"]))),128))]),_:1},8,["columns","name"]))}}),J={class:"title-4 text-center"},K={class:"text-small text-center"},Q={class:"buttons horizontal-align-self-center"},X=N({__name:"ActionDetailView",props:{groupName:{},action:{}},setup(b){const o=v(!1),i=v(!1),r=v(null);v("");const s=b;async function e(){if(s.action.params.length>0){o.value=!0;return}await p()}async function l(a){await p(a),o.value=!1}async function p(a){i.value=!0,r.value=await F.call(s.groupName,s.action.actionName,a),i.value=!1}return(a,u)=>(c(),g(m,{class:"action-detail"},{default:t(()=>[n(m,{class:"header"},{default:t(()=>[n(m,{class:"row shrink horizontal-align-center"},{default:t(()=>[d("div",J,_(k(C)(a.action.actionName,"titleCase","camelCase")),1),d("div",K,_(a.action.description),1)]),_:1})]),_:1}),d("div",Q,[n(I,{icon:"play_arrow",color:"secondary",label:"Run Action",onClick:e})]),n(m,{class:"results"},{default:t(()=>[n(P,{value:r.value},null,8,["value"])]),_:1}),n(j,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=f=>o.value=f)},{default:t(()=>[n(H,{action:a.action,onCancel:u[0]||(u[0]=f=>o.value=!1),onSubmitted:l},null,8,["action"])]),_:1},8,["modelValue"])]),_:1}))}}),Y={class:"title-5"},Z={key:0,class:"label badge bg-accent fit-content text-white"},ee={key:1,class:"label badge bg-success-darker fit-content text-white"},ae={class:"text-small"},te=N({__name:"ApiGroupDetail",props:{group:{}},setup(b){v(!1);const o=v();function i(r){o.value=r}return(r,s)=>(c(),g(m,{class:"action-wrapper"},{default:t(()=>[n(m,{class:"row shrink overflow-visible"},{default:t(()=>[(c(!0),h(S,null,A(r.group.actions,e=>{var l;return c(),g(T,{onClick:p=>i(e),class:V(["group-action",{active:e.actionName===((l=o.value)==null?void 0:l.actionName)}]),key:e.actionName},{default:t(()=>[n(m,null,{default:t(()=>[n(m,{class:"col shrink horizontal-align-between"},{default:t(()=>[d("div",Y,_(k(C)(e.actionName,"titleCase","camelCase")),1),e.system?(c(),h("div",Z,"System ")):$("",!0),e.public?(c(),h("div",ee," Public ")):$("",!0)]),_:2},1024),d("div",ae,_(e.description),1)]),_:2},1024)]),_:2},1032,["onClick","class"])}),128))]),_:1}),n(B,{appear:"",speed:"fast"},{default:t(()=>[o.value?(c(),g(X,{"group-name":r.group.groupName,action:o.value,key:o.value.actionName},null,8,["group-name","action"])):$("",!0)]),_:1})]),_:1}))}}),se={class:"text-capitalize group-title"},ne={class:"title-3"},de=N({__name:"ApiExplorerView",setup(b){const o=v([]),i=v();function r(s){i.value=s}return R(async()=>{o.value=await F.call("app","apiDocs")}),(s,e)=>(c(),g(U,{"max-width":"max-content","no-bg":""},{list:t(()=>[n(m,{class:"row shrink gap-3 text-center"},{default:t(()=>[e[0]||(e[0]=d("div",{class:"title-4"},"Groups",-1)),n(m,{class:"row shrink row-gap-3"},{default:t(()=>[(c(!0),h(S,null,A(o.value,l=>{var p;return c(),g(T,{onClick:a=>r(l),class:V(["group-card cursor-pointer",{active:l.groupName===((p=i.value)==null?void 0:p.groupName)}]),key:l.groupName},{default:t(()=>[d("div",se,_(l.groupName),1)]),_:2},1032,["onClick","class"])}),128))]),_:1})]),_:1})]),detail:t(()=>[n(B,{appear:"",speed:"fast"},{default:t(()=>[i.value?(c(),g(m,{class:"group-detail",key:i.value.groupName},{default:t(()=>{var l;return[d("div",ne,_(k(C)(((l=i.value)==null?void 0:l.groupName)||"","titleCase","camelCase")),1),n(te,{group:i.value},null,8,["group"])]}),_:1})):$("",!0)]),_:1})]),_:1}))}});export{de as default};
