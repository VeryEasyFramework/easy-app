import{d as h,o as u,p as b,b as n,w as a,e as p,t as v,l as N,C as m,v as V,m as w,g as y,s as q,G,a as f,j as D,c as _,z as A,F as S,h as T,f as k,x as E}from"./index-BYjH4yJH.js";import{_ as M}from"./ListDetailLayout.vue_vue_type_style_index_0_lang-PDZpFERH.js";import{C as x}from"./CardWidget-CLnvhoga.js";import{d as C,b as R,_ as U,c as P}from"./EasyInput.vue_vue_type_script_setup_true_lang-BTbdhf5x.js";import{_ as j,a as B}from"./ButtonIcon.vue_vue_type_script_setup_true_lang-Cbo9dm9r.js";import{a as z}from"./Button.vue_vue_type_script_setup_true_lang-D7t9y8YO.js";import"./InputData.vue_vue_type_script_setup_true_lang-D0e4q8ZS.js";const I=["name"],L={class:"title-3 text-center"},O=h({__name:"BasicForm",props:{name:{},submitText:{},cancelText:{},columns:{}},emits:["cancel","submitted"],setup(g,{emit:r}){const o=r;function t(){o("submitted")}function d(){o("cancel")}return(e,i)=>(u(),b("form",{class:"form",name:e.name,onSubmit:i[0]||(i[0]=G(s=>e.$emit("submitted"),["prevent"]))},[n(q,{class:"row shrink gap-3"},{default:a(()=>[p("div",L,v(N(C)(e.name||"","titleCase","camelCase")),1),n(m,{class:V(["gap-3",{[`col-${e.columns}`]:e.columns,row:!e.columns}])},{default:a(()=>[w(e.$slots,"default",{},()=>[i[1]||(i[1]=y(" Form "))])]),_:3},8,["class"]),n(m,{class:"col shrink horizontal-align-end gap-3"},{default:a(()=>[p("div",null,[w(e.$slots,"cancel",{},()=>[n(z,{color:"error",onClick:d},{default:a(()=>[y(v(e.cancelText||"Cancel"),1)]),_:1})])]),p("div",null,[w(e.$slots,"submit",{},()=>[n(z,{onSubmit:t,color:"success",type:"submit"},{default:a(()=>[y(v(e.submitText||"Submit"),1)]),_:1})])])]),_:3})]),_:3})],40,I))}}),W=h({__name:"ActionInputForm",props:{action:{}},emits:["cancel","submitted"],setup(g,{emit:r}){const o=g,t=f({}),d=r;function e(){if(!i())return;const s={};for(const l in t.value)t.value[l].value&&(s[l]=t.value[l].value);d("submitted",s)}function i(){if(!o.action.params)return;let s=!0;for(const l of o.action.params){if(l.required&&!t.value[l.paramName].value){t.value[l.paramName].error="This field is required",s=!1;continue}t.value[l.paramName].error=void 0}return s}return D(()=>{if(o.action.params)for(const s of o.action.params)t.value[s.paramName]={value:null,error:void 0}}),(s,l)=>(u(),_(O,{columns:s.action.params.length>3?2:1,name:s.action.actionName,onCancel:l[0]||(l[0]=c=>s.$emit("cancel")),onSubmitted:e},{default:a(()=>[(u(!0),b(S,null,A(s.action.params,(c,$)=>(u(),_(R,{field:{label:N(C)(c.paramName,"titleCase","camelCase"),key:c.paramName,fieldType:c.type,required:c.required,readOnly:!1},modelValue:t.value[c.paramName].value,"onUpdate:modelValue":F=>t.value[c.paramName].value=F,edit:"",error:t.value[c.paramName].error,focus:$===0,key:c.paramName},null,8,["field","modelValue","onUpdate:modelValue","error","focus"]))),128))]),_:1},8,["columns","name"]))}}),H={class:"title-4 text-center"},J={class:"text-small text-center"},K={class:"buttons horizontal-align-self-center"},Q=h({__name:"ActionDetailView",props:{groupName:{},action:{}},setup(g){const r=f(!1),o=f(!1),t=f(null);f("");const d=g;async function e(){if(d.action.params.length>0){r.value=!0;return}await s()}async function i(l){await s(l),r.value=!1}async function s(l){o.value=!0,t.value=await T.call(d.groupName,d.action.actionName,l),o.value=!1}return(l,c)=>(u(),_(m,{class:"action-detail"},{default:a(()=>[n(m,{class:"header"},{default:a(()=>[n(m,{class:"row shrink horizontal-align-center"},{default:a(()=>[p("div",H,v(N(C)(l.action.actionName,"titleCase","camelCase")),1),p("div",J,v(l.action.description),1)]),_:1})]),_:1}),p("div",K,[n(j,{icon:"play_arrow",color:"secondary",label:"Run Action",onClick:e})]),n(m,{class:"results"},{default:a(()=>[n(U,{value:t.value},null,8,["value"])]),_:1}),n(P,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=$=>r.value=$)},{default:a(()=>[n(W,{action:l.action,onCancel:c[0]||(c[0]=$=>r.value=!1),onSubmitted:i},null,8,["action"])]),_:1},8,["modelValue"])]),_:1}))}}),X={class:"title-5"},Y={key:0,class:"label badge bg-accent fit-content text-white"},Z={key:1,class:"label badge bg-success-darker fit-content text-white"},ee={class:"text-small"},ae=h({__name:"ApiGroupDetail",props:{group:{}},setup(g){f(!1);const r=f();function o(t){r.value=t}return(t,d)=>(u(),_(m,{class:"action-wrapper"},{default:a(()=>[n(m,{class:"row shrink overflow-visible"},{default:a(()=>[(u(!0),b(S,null,A(t.group.actions,e=>{var i;return u(),_(x,{onClick:s=>o(e),class:V(["group-action",{active:e.actionName===((i=r.value)==null?void 0:i.actionName)}]),key:e.actionName},{default:a(()=>[n(m,null,{default:a(()=>[n(m,{class:"col shrink horizontal-align-between"},{default:a(()=>[p("div",X,v(N(C)(e.actionName,"titleCase","camelCase")),1),e.system?(u(),b("div",Y,"System ")):k("",!0),e.public?(u(),b("div",Z," Public ")):k("",!0)]),_:2},1024),p("div",ee,v(e.description),1)]),_:2},1024)]),_:2},1032,["onClick","class"])}),128))]),_:1}),n(B,{appear:"",speed:"fast"},{default:a(()=>[r.value?(u(),_(Q,{"group-name":t.group.groupName,action:r.value,key:r.value.actionName},null,8,["group-name","action"])):k("",!0)]),_:1})]),_:1}))}}),te={class:"text-capitalize group-title"},se={class:"title-3"},me=h({__name:"ApiExplorerView",setup(g){const r=f([]),o=f();function t(d){o.value=d}return E(async()=>{console.log("ApiExplorerView mounted"),r.value=await T.call("app","apiDocs")}),(d,e)=>(u(),_(M,{"max-width":"max-content","no-bg":""},{list:a(()=>[n(m,{class:"row shrink gap-3 text-center"},{default:a(()=>[e[0]||(e[0]=p("div",{class:"title-4"},"Groups",-1)),n(m,{class:"row shrink row-gap-3"},{default:a(()=>[(u(!0),b(S,null,A(r.value,i=>{var s;return u(),_(x,{onClick:l=>t(i),class:V(["group-card cursor-pointer",{active:i.groupName===((s=o.value)==null?void 0:s.groupName)}]),key:i.groupName},{default:a(()=>[p("div",te,v(i.groupName),1)]),_:2},1032,["onClick","class"])}),128))]),_:1})]),_:1})]),detail:a(()=>[n(B,{appear:"",speed:"fast"},{default:a(()=>[o.value?(u(),_(m,{class:"group-detail",key:o.value.groupName},{default:a(()=>{var i;return[p("div",se,v(N(C)(((i=o.value)==null?void 0:i.groupName)||"","titleCase","camelCase")),1),n(ae,{group:o.value},null,8,["group"])]}),_:1})):k("",!0)]),_:1})]),_:1}))}});export{me as default};
