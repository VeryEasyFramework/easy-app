import{d as C,o as u,i as b,a as o,w as a,b as p,t as v,m as h,C as m,p as A,h as w,e as y,l as x,A as D,n as f,g as G,c as _,v as V,F as S,z as M,B as z,j as k,q as E}from"./index-BIuYyD81.js";import{_ as R}from"./ListDetailLayout.vue_vue_type_style_index_0_lang-CSlENlUX.js";import{C as B}from"./CardWidget-CEgwpWs7.js";import{f as N,i as U,_ as P}from"./index-DVjfnBu1.js";import{_ as j,a as F}from"./ButtonIcon.vue_vue_type_script_setup_true_lang-mKvY9iEi.js";import{_ as q}from"./Button.vue_vue_type_script_setup_true_lang-BhlD63e_.js";import{_ as I}from"./DisplayJSON.vue_vue_type_style_index_0_lang-DJE9avWq.js";import"./InputPassword.vue_vue_type_script_setup_true_lang-DzxX9jck.js";const L=["name"],W={class:"title-3 text-center"},H=C({__name:"BasicForm",props:{name:{},submitText:{},cancelText:{},columns:{}},emits:["cancel","submitted"],setup(g,{emit:r}){const l=r;function t(){l("submitted")}function d(){l("cancel")}return(e,i)=>(u(),b("form",{class:"form",name:e.name,onSubmit:i[0]||(i[0]=D(s=>e.$emit("submitted"),["prevent"]))},[o(x,{class:"row shrink gap-3"},{default:a(()=>[p("div",W,v(h(N)(e.name||"","titleCase","camelCase")),1),o(m,{class:A(["gap-3",{[`col-${e.columns}`]:e.columns,row:!e.columns}])},{default:a(()=>[w(e.$slots,"default",{},()=>[i[1]||(i[1]=y(" Form "))])]),_:3},8,["class"]),o(m,{class:"col shrink horizontal-align-end gap-3"},{default:a(()=>[p("div",null,[w(e.$slots,"cancel",{},()=>[o(q,{color:"error",onClick:d},{default:a(()=>[y(v(e.cancelText||"Cancel"),1)]),_:1})])]),p("div",null,[w(e.$slots,"submit",{},()=>[o(q,{onSubmit:t,color:"success",type:"submit"},{default:a(()=>[y(v(e.submitText||"Submit"),1)]),_:1})])])]),_:3})]),_:3})],40,L))}}),J=C({__name:"ActionInputForm",props:{action:{}},emits:["cancel","submitted"],setup(g,{emit:r}){const l=g,t=f({}),d=r;function e(){if(!i())return;const s={};for(const n in t.value)t.value[n].value&&(s[n]=t.value[n].value);d("submitted",s)}function i(){if(!l.action.params)return;let s=!0;for(const n of l.action.params){if(n.required&&!t.value[n.paramName].value){t.value[n.paramName].error="This field is required",s=!1;continue}t.value[n.paramName].error=void 0}return s}return G(()=>{if(l.action.params)for(const s of l.action.params)t.value[s.paramName]={value:null,error:void 0}}),(s,n)=>(u(),_(H,{columns:s.action.params.length>3?2:1,name:s.action.actionName,onCancel:n[0]||(n[0]=c=>s.$emit("cancel")),onSubmitted:e},{default:a(()=>[(u(!0),b(S,null,V(s.action.params,(c,$)=>(u(),_(M(h(U)[c.type]),{key:c.paramName,modelValue:t.value[c.paramName].value,"onUpdate:modelValue":T=>t.value[c.paramName].value=T,error:t.value[c.paramName].error,focus:$===0,required:c.required,label:h(N)(c.paramName,"titleCase","camelCase")},null,8,["modelValue","onUpdate:modelValue","error","focus","required","label"]))),128))]),_:1},8,["columns","name"]))}}),K={class:"title-4 text-center"},O={class:"text-small text-center"},Q={class:"buttons horizontal-align-self-center"},X=C({__name:"ActionDetailView",props:{groupName:{},action:{}},setup(g){const r=f(!1),l=f(!1),t=f(null);f("");const d=g;async function e(){if(d.action.params.length>0){r.value=!0;return}await s()}async function i(n){await s(n),r.value=!1}async function s(n){l.value=!0,t.value=await z.call(d.groupName,d.action.actionName,n),l.value=!1}return(n,c)=>(u(),_(m,{class:"action-detail"},{default:a(()=>[o(m,{class:"header"},{default:a(()=>[o(m,{class:"row shrink horizontal-align-center"},{default:a(()=>[p("div",K,v(h(N)(n.action.actionName,"titleCase","camelCase")),1),p("div",O,v(n.action.description),1)]),_:1})]),_:1}),p("div",Q,[o(j,{icon:"play_arrow",color:"secondary",label:"Run Action",onClick:e})]),o(m,{class:"results"},{default:a(()=>[o(I,{value:t.value},null,8,["value"])]),_:1}),o(P,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=$=>r.value=$)},{default:a(()=>[o(J,{action:n.action,onCancel:c[0]||(c[0]=$=>r.value=!1),onSubmitted:i},null,8,["action"])]),_:1},8,["modelValue"])]),_:1}))}}),Y={class:"title-5"},Z={key:0,class:"label badge bg-accent fit-content text-white"},ee={key:1,class:"label badge bg-success-darker fit-content text-white"},ae={class:"text-small"},te=C({__name:"ApiGroupDetail",props:{group:{}},setup(g){f(!1);const r=f();function l(t){r.value=t}return(t,d)=>(u(),_(m,{class:"action-wrapper"},{default:a(()=>[o(m,{class:"row shrink overflow-visible"},{default:a(()=>[(u(!0),b(S,null,V(t.group.actions,e=>{var i;return u(),_(B,{onClick:s=>l(e),class:A(["group-action",{active:e.actionName===((i=r.value)==null?void 0:i.actionName)}]),key:e.actionName},{default:a(()=>[o(m,null,{default:a(()=>[o(m,{class:"col shrink horizontal-align-between"},{default:a(()=>[p("div",Y,v(h(N)(e.actionName,"titleCase","camelCase")),1),e.system?(u(),b("div",Z,"System ")):k("",!0),e.public?(u(),b("div",ee," Public ")):k("",!0)]),_:2},1024),p("div",ae,v(e.description),1)]),_:2},1024)]),_:2},1032,["onClick","class"])}),128))]),_:1}),o(F,{appear:"",speed:"fast"},{default:a(()=>[r.value?(u(),_(X,{"group-name":t.group.groupName,action:r.value,key:r.value.actionName},null,8,["group-name","action"])):k("",!0)]),_:1})]),_:1}))}}),se={class:"text-capitalize group-title"},ne={class:"title-3"},pe=C({__name:"ApiExplorerView",setup(g){const r=f([]),l=f();function t(d){l.value=d}return E(async()=>{console.log("ApiExplorerView mounted"),r.value=await z.call("app","apiDocs")}),(d,e)=>(u(),_(R,{"max-width":"max-content","no-bg":""},{list:a(()=>[o(m,{class:"row shrink gap-3 text-center"},{default:a(()=>[e[0]||(e[0]=p("div",{class:"title-4"},"Groups",-1)),o(m,{class:"row shrink row-gap-3"},{default:a(()=>[(u(!0),b(S,null,V(r.value,i=>{var s;return u(),_(B,{onClick:n=>t(i),class:A(["group-card cursor-pointer",{active:i.groupName===((s=l.value)==null?void 0:s.groupName)}]),key:i.groupName},{default:a(()=>[p("div",se,v(i.groupName),1)]),_:2},1032,["onClick","class"])}),128))]),_:1})]),_:1})]),detail:a(()=>[o(F,{appear:"",speed:"fast"},{default:a(()=>[l.value?(u(),_(m,{class:"group-detail",key:l.value.groupName},{default:a(()=>{var i;return[p("div",ne,v(h(N)(((i=l.value)==null?void 0:i.groupName)||"","titleCase","camelCase")),1),o(te,{group:l.value},null,8,["group"])]}),_:1})):k("",!0)]),_:1})]),_:1}))}});export{pe as default};
