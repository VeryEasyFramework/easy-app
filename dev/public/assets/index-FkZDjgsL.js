import{d as y,z as g,o as d,c,w as m,b as f,a as h,C as k,q as b,H as j,A as L,h as U,e as Y,j as N,L as R,n as p,M as $,N as q,O as E,i as w,F as S,v as M,t as I,P,x as H,B as J}from"./index-BgLTC03-.js";import{C as T}from"./CardWidget-DaiIHUe1.js";import{a as z}from"./ButtonIcon.vue_vue_type_script_setup_true_lang-Cv5SDFW7.js";import{b as v,a as A,_ as F}from"./InputPassword.vue_vue_type_script_setup_true_lang-BAdIyg2q.js";function Ye(n,r,t){if(!n)return"";let s="";t==="camelCase"&&(n=K(n));const l=Z(n);return r==="titleCase"&&(s=n.split(l).map(o=>`${o.charAt(0).toUpperCase()}${o.slice(1)}`).join(" ")),r==="pascal"&&(s=n.toLowerCase().replace(l,"-")),r==="initials"&&(s=n.split(l).map(o=>o[0]).join("").toUpperCase()),r==="snakeCase"&&(s=n.toLowerCase().replace(l,"_")),s}function K(n){return n.replace(/([A-Z])/g,r=>`_${r.toLowerCase()}`)}function Z(n){const r=[" ","-","_"];let t=" ";return r.forEach(s=>{if(n.includes(s))return t=s,s}),t}function B(n,r){return n.toString().padStart(2,"0")}function W(n,r){const t=r||new Date;return n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()}function G(n,r){const t=r||new Date;return t.setDate(t.getDate()-1),n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()}function Ne(n,r){const t=new Date(n);if(t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),isNaN(t.getTime()))return n;const s=a=>{const u=new Date;let i="",V=a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});if(r!=null&&r.showSeconds&&(V=a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})),u.toLocaleDateString()==a.toLocaleDateString())return i="Today at",`${i} ${V}`;if(u.getFullYear()==a.getFullYear()&&a.getMonth().toString()+(a.getDay()+1).toString()==u.getMonth().toString()+u.getDay().toString())return i="Yesterday at",`${i} ${V}`;let _=a.toString().substring(0,15);return r!=null&&r.showSeconds&&(_=a.toString().substring(0,21)),_},l=a=>{const u=B(a.getDate()),i=B(a.getMonth()+1),V=a.getFullYear();return`${u}/${i}/${V}`},o=a=>{const u=new Date,i=u.getFullYear();u.getMonth(),u.getDate();const V=a.getFullYear(),_=a.getMonth(),D=a.getDate();let O=`${B(D)}/${B(_+1)}`;return i!=V&&(O=`${O}/${V}`),W(a,u)&&(O=a.toLocaleTimeString(void 0,{hour:"numeric",hour12:!1,minute:"numeric"})),G(a,u)&&(O="Yesterday"),O};switch((r==null?void 0:r.format)||"standard"){case"pretty":return s(t);case"date":return l(t);case"compact":return o(t);case"time":return t.toLocaleTimeString();default:{const a=B(t.getDate()),u=B(t.getMonth()+1),i=t.getFullYear(),V=B(t.getHours()),_=B(t.getMinutes()),D=B(t.getSeconds());return`${a}/${u}/${i} ${V}:${_}${r!=null&&r.showSeconds?`:${D}`:""}`}}}const Q='<span class="json-colon">: </span>';function X(n){let r=n;const t=/"([^"]+)":/g,s=/:\s+(.*$)/g,l=t.exec(r);if(!l)return`<div class="json-row">${C(r)}</div>`;const o=s.exec(r);if(!l||!o)return r;const e=`<span class="json-key">"${l[1]}"</span>`,a=o[1],u=r.match(/^\s+/);return`<div class="json-row">${u?u[0]:""}${e}${Q}${C(a)}</div>`}function C(n){const r=/"([^"]+)"/g,t=/(\d+)/g,s=/(true|false)/g,l=r.exec(n);if(l){const a=x(l[1]);return n.replace(r,`<span class="json-string">"${a}"</span>`)}const o=t.exec(n);if(o)return n.replace(t,`<span class="json-number">${o[1]}</span>`);const e=s.exec(n);return e?n.replace(s,`<span class="json-boolean">${e[1]}</span>`):n==="null"?'<span class="json-null">null</span>':n==="undefined"?'<span class="json-undefined">undefined</span>':n}function x(n){return n.replace(/[&<>"']/g,r=>{switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return""}})}const ee=["innerHTML"],Re=y({__name:"DisplayJSON",props:{value:{},field:{}},setup(n){const r=n,t=g(()=>r.value?JSON.stringify(r.value,null,2).split(`
`).map(o=>`${X(o)}`).join(""):'<div class="italic">no content</div>');return(s,l)=>(d(),c(k,{class:"json-wrapper"},{default:m(()=>[l[0]||(l[0]=f("div",{class:"gutter"},null,-1)),h(k,{class:"json-content-wrapper position-relative"},{default:m(()=>[f("div",{class:"json-content",innerHTML:t.value},null,8,ee)]),_:1})]),_:1}))}}),te=n=>n.getModifierState("Control")||n.metaKey,Ee=(n,r)=>{te(n)&&n.key==="s"&&(n.preventDefault(),r())},ne=(n,r)=>{const t=n;b(()=>{document.addEventListener("keydown",t)}),j(()=>{document.removeEventListener("keydown",t)})},Pe=y({__name:"ModalView",props:{modelValue:{type:Boolean}},emits:["update:modelValue","close"],setup(n,{emit:r}){function t(){o.value=!1,l("close")}const s=n,l=r,o=g({get:()=>s.modelValue,set:e=>{l("update:modelValue",e)}});return ne(e=>{e.key==="Escape"&&t()}),(e,a)=>(d(),c(R,{to:"#modals"},[h(z,null,{default:m(()=>[o.value?(d(),c(k,{key:0,onClick:L(t,["self"]),class:"modal-wrapper z-max position-fixed top left vh-100 vw-100 horizontal-align-center vertical-align-center"},{default:m(()=>[h(T,null,{default:m(()=>[U(e.$slots,"default",{},()=>[a[0]||(a[0]=Y(" modal "))])]),_:3})]),_:3})):N("",!0)]),_:3})]))}}),re=["name","disabled"],ae=y({__name:"InputBigInt",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"number","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,re),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),le=["name","disabled"],oe=y({__name:"InputBoolean",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,le),[[E,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),ue=["name","disabled"],se=["value"],ie=y({__name:"InputChoices",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean},choices:{}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("select",{name:e.name,ref_key:"input",ref:l,"onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},[(d(!0),w(S,null,M(e.choices,u=>(d(),w("option",{key:u.key,value:u.key},I(u.label),9,se))),128))],8,ue),[[P,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),de={class:"connection-input position-relative"},me=["name","disabled"],pe={class:"search-item text-small"},ce=y({__name:"InputConnection",props:{modelValue:{},label:{},field:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p();g({get:()=>t.modelValue,set:i=>{s("update:modelValue",i)}}),b(()=>{var i;t.focus&&((i=l.value)==null||i.focus())});const o=p("");p(null);const e=p([]);let a=H.entities.find(i=>i.entityId===t.field.connectionEntity);async function u(i){o.value=i.target.value;const V=(a==null?void 0:a.config.titleField)||"id",_=await J.getList(t.field.connectionEntity,{columns:[V,"id"],limit:10,filter:{[V]:{op:"contains",value:o.value}}});e.value=_.data}return(i,V)=>(d(),w("div",de,[h(v,{class:"overflow-visible",label:i.label,error:i.error,required:i.required,"read-only":i.readOnly},{default:m(()=>[f("input",{name:i.name,ref_key:"input",ref:l,onInput:u,type:"text",disabled:i.readOnly},null,40,me)]),_:1},8,["label","error","required","read-only"]),h(T,{class:"dropdown-container w-100"},{default:m(()=>[h(k,{class:"row shrink"},{default:m(()=>[(d(!0),w(S,null,M(e.value,_=>(d(),w("div",pe,I(_.title||_.id),1))),256))]),_:1})]),_:1})]))}}),fe=["name","disabled"],ye=y({__name:"InputDate",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"date","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,fe),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),ge=["name","disabled"],be=y({__name:"InputEmail",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"text","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,ge),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),Ve=["name","disabled"],ve=y({__name:"InputImage",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"text","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,Ve),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),$e=["name","disabled"],_e=y({__name:"InputInt",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"number","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,$e),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),qe=["name","disabled"],Be=y({__name:"InputJSON",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("textarea",{name:e.name,ref_key:"input",ref:l,"onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,qe),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),he=["name","disabled"],Oe=y({__name:"InputMultiChoice",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"text","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,he),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),we=["name","disabled"],ke=y({__name:"InputPhone",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"text","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,we),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),De=["name","disabled"],Fe=y({__name:"InputText",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("textarea",{name:e.name,ref_key:"input",ref:l,"onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,De),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),Ce=["name","disabled"],Se=y({__name:"InputTimestamp",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{maxlength:"255",name:e.name,ref_key:"input",ref:l,type:"datetime-local","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,Ce),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),Me=["name","disabled"],Ie=y({__name:"InputDecimal",props:{modelValue:{},label:{},error:{},name:{},required:{type:Boolean},readOnly:{type:Boolean},focus:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:r}){const t=n,s=r,l=p(),o=g({get:()=>t.modelValue,set:e=>{s("update:modelValue",e)}});return b(()=>{var e;t.focus&&((e=l.value)==null||e.focus())}),(e,a)=>(d(),c(v,{label:e.label,error:e.error,required:e.required,"read-only":e.readOnly},{default:m(()=>[$(f("input",{name:e.name,ref_key:"input",ref:l,type:"number","onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),disabled:e.readOnly},null,8,Me),[[q,o.value]])]),_:1},8,["label","error","required","read-only"]))}}),He={BigIntField:ae,BooleanField:oe,ChoicesField:ie,ConnectionField:ce,DateField:ye,DecimalField:Ie,EmailField:be,ImageField:ve,IntField:_e,JSONField:Be,MultiChoiceField:Oe,PasswordField:A,PhoneField:ke,TextField:Fe,DataField:F,IDField:F,TimeStampField:Se};export{Pe as _,Re as a,Ye as b,He as f,Ne as g,ne as l,Ee as o};
